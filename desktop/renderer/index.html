<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'">
    <title>Hi-Spectra Voice Assistant</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">üéôÔ∏è</div>
                <h1>Hi-Spectra</h1>
            </div>
            <div class="status-bar">
                <span id="status" class="status">Ready</span>
                <span id="mode" class="mode">Wake Word Active</span>
            </div>
        </header>

        <!-- Main Interface -->
        <main class="main-content">
            <!-- Visualization -->
            <div class="visualization-container">
                <canvas id="waveform" width="800" height="200"></canvas>
                <div id="listening-indicator" class="listening-indicator">
                    <div class="pulse"></div>
                    <span>Listening...</span>
                </div>
            </div>

            <!-- Conversation Display -->
            <div id="conversation" class="conversation">
                <div class="message system">
                    <div class="message-icon">‚ÑπÔ∏è</div>
                    <div class="message-content">
                        <p><strong>Welcome to Hi-Spectra!</strong></p>
                        <p>Try saying:</p>
                        <ul>
                            <li>"Hey Spectra, what's the weather?"</li>
                            <li>"Hey Spectra, set a timer for 10 minutes"</li>
                            <li>"Hey Spectra, play some music"</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Input Controls -->
            <div class="input-container">
                <!-- Text Input Mode -->
                <div class="text-input-group">
                    <input
                        type="text"
                        id="text-input"
                        placeholder="Type your command or use voice..."
                        autocomplete="off"
                    />
                    <button id="send-btn" class="btn btn-primary">Send</button>
                </div>

                <!-- Voice Controls -->
                <div class="voice-controls">
                    <button id="push-to-talk-btn" class="btn btn-voice">
                        <span class="btn-icon">üé§</span>
                        Push to Talk
                        <span class="shortcut">Ctrl+Shift+Space</span>
                    </button>

                    <button id="toggle-wake-word-btn" class="btn btn-secondary">
                        <span class="btn-icon" id="wake-word-icon">üëÇ</span>
                        <span id="wake-word-text">Disable Wake Word</span>
                        <span class="shortcut">Ctrl+Shift+W</span>
                    </button>
                </div>
            </div>
        </main>

        <!-- Settings Panel (collapsible) -->
        <aside id="settings-panel" class="settings-panel">
            <div class="settings-header">
                <h3>Settings</h3>
                <button id="close-settings-btn" class="btn-close">√ó</button>
            </div>
            <div class="settings-content">
                <div class="setting-group">
                    <label for="wake-word-sensitivity">Wake Word Sensitivity</label>
                    <input type="range" id="wake-word-sensitivity" min="0" max="100" value="70" />
                    <span id="sensitivity-value">70%</span>
                </div>

                <div class="setting-group">
                    <label for="backend-url">Backend URL</label>
                    <input type="text" id="backend-url" value="http://localhost:3000" />
                </div>

                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="auto-send" checked />
                        Auto-send after wake word
                    </label>
                </div>

                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="show-confidence" />
                        Show confidence scores
                    </label>
                </div>

                <button id="save-settings-btn" class="btn btn-primary">Save Settings</button>
            </div>
        </aside>

        <!-- Settings Toggle Button -->
        <button id="settings-toggle-btn" class="settings-toggle-btn">‚öôÔ∏è</button>
    </div>

    <script src="audio.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
</body>
</html>
